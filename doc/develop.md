# 开发记录

## 目的
本项目为[nuxtkoablog](https://github.com/carlleton/nuxtkoablog)这个项目做一个客户端，用作本地使用。服务端只是做一个同步

PS：暂时只是做一个单人的，先满足个人需要

## 数据库
	客户端来说，关系数据库的话采用sqlite3
	nosql使用nedb，因为扒了下leanote的客户端，发现他用的也是这个数据库。网络上说这个库最大256M，先记录一下，稍后对比其他的。
	对于笔记来说，很轻易的就能达到几百兆，但上边俩都是单文件，数据量大时扩展来说不容易。
	网络上有推荐用leveldb。
	暂时使用linvodb3和level-js来实现看看

## 功能开发进度
- [x] 登陆
- [x] 数据库增删查改抽象化
	- [x] options表
	- [x] usns表
	- [x] notes表
	- [x] catenotes表
	- [x] posts表
	- [x] cates表
	- [x] 本地所有增删改都更新usns表状态
- [x] 本地接口
	- [x] 笔记分类增删改
	- [x] 笔记增删改
	- [ ] cates客户端展示
	- [ ] posts客户端展示
- [x] 编辑器页面
	- [ ] 笔记分类增删改
	- [ ] 笔记增删改
	- [ ] 编辑器
	- [ ] 笔记-显示模式、编辑模式
	- [ ] 笔记页面右键，增加删除优化
- [x] 同步处理
	- [x] 第一步，获取服务端比本地lastusn大的usns
	- [x] 第二步，比较获取到的usns，比对本地的usns，挑出脏数据，copy出来
	- [x] 第三步，获取到的数据增删改更新到本地
	- [x] 第四步，上传本地所做的更改，并更新本地的lastusn

